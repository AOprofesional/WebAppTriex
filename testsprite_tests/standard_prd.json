{
  "meta": {
    "project": "TRIEX",
    "date": "2026-01-29",
    "prepared_by": "Generated by AI Assistant"
  },
  "product_overview": "TRIEX is a responsive web application designed for travel passengers to centralize their trip information, vouchers, documentation, and loyalty points within a simple and clear interface. The product serves as an MVP that focuses on operational use and scalability while supporting multiple user roles including passengers, admins, and operators.",
  "core_goals": [
    "Enable passengers to easily access and manage their trip details, vouchers, and points through a mobile-first responsive web app.",
    "Provide secure, role-based authentication and persistent session management for passengers, admins, and operators.",
    "Support core passenger flows such as home dashboard, trip details, vouchers, and points visualization.",
    "Enable internal users (admins and operators) to manage passengers, trips, documents, vouchers, and loyalty points efficiently via backoffice features.",
    "Provide system-generated notifications for key events within the application.",
    "Ensure a secure and minimalistic UI design focusing on usability and scalability."
  ],
  "key_features": [
    "User authentication with email/password and magic link for passengers; secure credentials for admin and operator roles with role-based access control.",
    "Passenger account management including creation, editing, archiving, and invitation workflows.",
    "Trip management features covering itineraries, trip status updates (upcoming, in progress, finished), document uploads, and voucher handling.",
    "Points and rewards gamification system allowing passengers to view total balance and points origin.",
    "Comprehensive navigation and layout components including header, sidebar, and bottom navigation for seamless user experience.",
    "Profile management for users to update personal details.",
    "System notifications visible inside the web app for important events."
  ],
  "user_flow_summary": [
    "Passengers log in via email/password or magic link and access the home dashboard showing upcoming trips, notifications, points, and required actions.",
    "Passengers can view detailed trip information including itinerary, status, documents, and vouchers with download capabilities.",
    "Admins and operators can securely log in to manage passengers, trips, and assign vouchers and points via backoffice interfaces.",
    "Admins can create, edit, archive passenger accounts and manage invitations through modal dialogs.",
    "System generates notifications for passengers based on trip and account events, visible on the dashboard and related screens."
  ],
  "validation_criteria": [
    "User authentication workflows must support email/password login, magic link, password reset, and role-based protections reliably.",
    "Passenger-related features must allow creation, editing, archiving, and invitation with confirmation modals functioning correctly.",
    "Trip management functionality should correctly handle itineraries, status transitions, document and voucher uploads, and viewing.",
    "Points and gamification screens must display accurate point balances and detailed origins.",
    "Navigation and layout components should be responsive, load correctly, and support smooth user interaction.",
    "System notifications must be generated and visible for all defined key events within the app.",
    "UI design must be mobile-first, minimal, and secure, ensuring proper session persistence after login."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "React",
      "Vite",
      "Supabase"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User authentication flows including login, signup, password reset, and role-based protection.",
        "files": [
          "screens/Login.tsx",
          "screens/Signup.tsx",
          "screens/AuthCallback.tsx",
          "screens/ResetPassword.tsx",
          "screens/UpdatePassword.tsx",
          "components/ProtectedRoute.tsx",
          "components/RoleGate.tsx",
          "components/RoleRedirect.tsx",
          "hooks/useRole.ts"
        ]
      },
      {
        "name": "Passenger Management",
        "description": "Management of passenger accounts, including creation, editing, and archiving.",
        "files": [
          "components/CreatePassengerModal.tsx",
          "components/EditPassengerModal.tsx",
          "components/ConfirmArchiveModal.tsx",
          "components/ConfirmDeleteModal.tsx",
          "screens/ArchivedAccount.tsx",
          "hooks/usePassengers.ts",
          "hooks/useCreatePassengerWithInvite.ts"
        ]
      },
      {
        "name": "Trip Management",
        "description": "Core trip functionality including itineraries, documents, and vouchers.",
        "files": [
          "screens/Home.tsx",
          "screens/MyTrip.tsx",
          "screens/Itinerary.tsx",
          "screens/UploadDocument.tsx",
          "screens/Vouchers.tsx",
          "hooks/useTrips.ts",
          "hooks/useTripDetails.ts",
          "hooks/useItineraryItems.ts",
          "hooks/useVouchers.ts",
          "hooks/usePassengerTrips.ts"
        ]
      },
      {
        "name": "Gamification",
        "description": "Points and rewards system for passengers.",
        "files": [
          "screens/Points.tsx",
          "components/ActivityModal.tsx"
        ]
      },
      {
        "name": "Navigation & Layout",
        "description": "Main navigation components.",
        "files": [
          "components/BottomNav.tsx",
          "components/Header.tsx",
          "components/Sidebar.tsx"
        ]
      },
      {
        "name": "Profile",
        "description": "User profile management.",
        "files": [
          "screens/Profile.tsx"
        ]
      }
    ]
  }
}
